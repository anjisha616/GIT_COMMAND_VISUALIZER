<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Git Visualizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="topbar-left">
      <svg class="topbar-logo" viewBox="0 0 24 24" fill="none">
        <circle cx="6"  cy="6"  r="2.5" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="18" cy="6"  r="2.5" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="6"  cy="18" r="2.5" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="18" cy="18" r="2.5" stroke="currentColor" stroke-width="1.5"/>
        <path d="M6 8.5V15.5M8.5 6H15.5M15.5 18H8.5M18 8.5V15.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
      <span class="topbar-name">git visualizer</span>
      <span class="topbar-sep">—</span>
      <span class="topbar-desc">type git commands, watch the graph update</span>
    </div>
    <div class="topbar-right">
      <button class="scenarios-toggle-btn" id="scenarios-toggle" title="Preloaded scenarios">
        <svg viewBox="0 0 16 16" fill="none"><path d="M3 4h10M3 8h7M3 12h5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
        Scenarios
      </button>
      <span class="topbar-badge" id="repo-status">no repository</span>
    </div>
  </header>

  <!-- SCENARIOS PANEL (dropdown) -->
  <div class="scenarios-panel" id="scenarios-panel">
    <div class="scenarios-header">
      <span>Preloaded Workflows</span>
      <span class="scenarios-hint">Click to run a scenario step-by-step</span>
    </div>
    <div class="scenarios-list" id="scenarios-list"></div>
  </div>

  <!-- MAIN LAYOUT -->
  <main class="layout">

    <!-- LEFT: Graph Panel -->
    <section class="panel graph-panel" aria-label="Commit graph">
      <div class="panel-header">
        <span class="panel-title">commit graph</span>
        <div class="panel-actions">
          <button class="icon-btn" id="zoom-out-btn" title="Zoom out">
            <svg viewBox="0 0 16 16" fill="none"><path d="M3 8h10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
          </button>
          <button class="icon-btn" id="zoom-in-btn" title="Zoom in">
            <svg viewBox="0 0 16 16" fill="none"><path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
          </button>
          <button class="icon-btn" id="fit-btn" title="Reset zoom">
            <svg viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.3"/><rect x="9" y="9" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.3"/><path d="M7 9H4v3M9 7h3V4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>

      <div class="graph-viewport" id="graph-viewport">
        <svg id="graph-svg" xmlns="http://www.w3.org/2000/svg"></svg>

        <div class="graph-empty" id="graph-empty">
          <div class="graph-empty-icon">
            <svg viewBox="0 0 48 48" fill="none">
              <circle cx="12" cy="36" r="5" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="36" cy="12" r="5" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="36" cy="36" r="5" stroke="currentColor" stroke-width="1.5"/>
              <path d="M12 31V17M17 36H31" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-dasharray="3 3"/>
            </svg>
          </div>
          <p class="graph-empty-title">No repository</p>
          <p class="graph-empty-hint">Run <code>git init</code>, pick a scenario above, or <button id="start-tutorial-btn" class="onboard-btn">Start Tutorial</button></p>
          <div id="onboarding-panel" class="onboarding-panel" style="display:none;"></div>
        </div>

        <!-- COMMIT DETAIL PANEL (overlay inside viewport) -->
        <aside class="detail-panel hidden" id="detail-panel">
          <div class="detail-header">
            <span class="detail-title">Commit Details</span>
            <button class="icon-btn" id="detail-close" title="Close">
              <svg viewBox="0 0 16 16" fill="none"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
            </button>
          </div>
          <div class="detail-body">
            <div class="detail-row">
              <span class="detail-label">SHA</span>
              <code class="detail-value" id="detail-sha">—</code>
            </div>
            <div class="detail-row">
              <span class="detail-label">Type</span>
              <span class="detail-type" id="detail-type">commit</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Message</span>
              <span class="detail-value" id="detail-message">—</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Date</span>
              <span class="detail-value" id="detail-date">—</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Parents</span>
              <code class="detail-value" id="detail-parents">—</code>
            </div>
            <div class="detail-row">
              <span class="detail-label">Branches</span>
              <span class="detail-value" id="detail-branches">—</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Tags</span>
              <span class="detail-value" id="detail-tags">—</span>
            </div>
          </div>
        </aside>
      </div>

      <!-- Legend -->
      <div class="graph-legend" id="graph-legend" hidden>
        <div class="legend-item"><div class="legend-dot" style="background:#fff;outline:2px solid #484f58;outline-offset:1px"></div><span>HEAD</span></div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--branch-0)"></div><span>commit</span></div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--merged)"></div><span>merge</span></div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--branch-2)"></div><span>rebased</span></div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--branch-3)"></div><span>cherry-pick</span></div>
        <div class="legend-hint">click any node for details</div>
      </div>
    </section>

    <!-- RIGHT: Terminal Panel -->
    <section class="panel terminal-panel" aria-label="Terminal">
      <div class="panel-header">
        <span class="panel-title">terminal</span>
        <div class="panel-actions">
          <button class="icon-btn" id="clear-btn" title="Clear terminal">
            <svg viewBox="0 0 16 16" fill="none"><path d="M3 4h10M6 4V2.5h4V4M5 4l.5 9.5h5L11 4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>

      <div class="terminal-output" id="terminal-output" role="log" aria-live="polite">
        <div class="terminal-welcome">
          <p class="welcome-line">Git Command Visualizer <span class="dim">v2.0.0</span></p>
          <p class="welcome-line dim">Type git commands below or pick a <strong>Scenario</strong> from the top bar.</p>
          <p class="welcome-line dim">Type <code>help</code> for all supported commands.</p>
        </div>
      </div>

      <div class="terminal-input-row">
        <span class="prompt">$</span>
        <input
          type="text"
          id="terminal-input"
          class="terminal-input"
          autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
          aria-label="Terminal input"
          placeholder="git init"
        />
      </div>
    </section>

  </main>

  <script src="script.js"></script>
</body>
</html>